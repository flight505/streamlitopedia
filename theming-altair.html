<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>Theming Altair - Streamlitpedia</title>
    

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="shortcut icon" href="favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
    <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
    <link
        href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
        rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:500" rel="stylesheet" type="text/css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
    

    
</head>

<body>
    <!-- Provide site root to javascript -->
    <script type="text/javascript">
        var path_to_root = "";
        var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
    </script>

    <!-- Work around some values being stored in localStorage wrapped in quotes -->
    <script type="text/javascript">
        try {
            var theme = localStorage.getItem('mdbook-theme');
            var sidebar = localStorage.getItem('mdbook-sidebar');

            if (theme.startsWith('"') && theme.endsWith('"')) {
                localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
            }

            if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
            }
        } catch (e) { }
    </script>

    <!-- Set the theme before any content is loaded, prevents flash -->
    <script type="text/javascript">
        var theme;
        try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
        if (theme === null || theme === undefined) { theme = default_theme; }
        var html = document.querySelector('html');
        html.classList.remove('no-js')
        html.classList.remove('light')
        html.classList.add(theme);
        html.classList.add('js');
    </script>

    <!-- Hide / unhide sidebar before it is displayed -->
    <script type="text/javascript">
        var html = document.querySelector('html');
        var sidebar = 'hidden';
        if (document.body.clientWidth >= 1080) {
            try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
            sidebar = sidebar || 'visible';
        }
        html.classList.remove('sidebar-visible');
        html.classList.add("sidebar-" + sidebar);
    </script>

    <nav id="sidebar" class="sidebar" aria-label="Table of contents">
        <div id="sidebar-scrollbox" class="sidebar-scrollbox">
            <ol class="chapter"><li class="expanded affix "><a href="front/introduction.html">Introduction</a></li><li class="expanded "><a href="essentials.html"><strong aria-hidden="true">1.</strong> Design</a></li><li><ol class="section"><li class="expanded "><a href="essentials.html"><strong aria-hidden="true">1.1.</strong> Theme Essentials</a></li><li class="expanded "><a href="theming-altair.html" class="active"><strong aria-hidden="true">1.2.</strong> Theming Altair</a></li><li class="expanded "><a href="sizing-and-images.html"><strong aria-hidden="true">1.3.</strong> Images</a></li></ol></li><li class="expanded "><a href="display-clean-variable-names.html"><strong aria-hidden="true">2.</strong> General</a></li><li><ol class="section"><li class="expanded "><a href="markdown.html"><strong aria-hidden="true">2.1.</strong> Markdown</a></li><li class="expanded "><a href="display-clean-variable-names.html"><strong aria-hidden="true">2.2.</strong> Display Clean Variable Names</a></li><li class="expanded "><a href="use-caching.html"><strong aria-hidden="true">2.3.</strong> Use Caching (and Benchmark It)</a></li><li class="expanded "><a href="create-dynamic-widgets.html"><strong aria-hidden="true">2.4.</strong> Create Dynamic Widgets</a></li><li class="expanded "><a href="altair-for-visualizations.html"><strong aria-hidden="true">2.5.</strong> Altair for Visualizations</a></li><li class="expanded "><a href="refactoring-and-writing-modular-code.html"><strong aria-hidden="true">2.6.</strong> Refactoring &amp; Writing Modular Code</a></li></ol></li><li class="expanded "><a href="back/example-apps.html">Example Apps</a></li><li class="expanded affix "><a href="back/appendix.html">Appendix</a></li></ol>
        </div>
        <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
    </nav>

    <div id="page-wrapper" class="page-wrapper">

        <div class="page">
            
            <div id="menu-bar" class="menu-bar">
                <div id="menu-bar-sticky-container">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                            aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme"
                                    id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme"
                                    id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Streamlitpedia</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>
            </div>

            
            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                        placeholder="Search this book ..." aria-controls="searchresults-outer"
                        aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>
            

            <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
            <script type="text/javascript">
                document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                    link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                });
            </script>

            <div id="content" class="content">
                <main>
                    <h1><a class="header" href="#theming-altair" id="theming-altair">Theming Altair</a></h1>
<ul>
<li><a href="#theming-altair">Theming Altair</a>
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#streamlit-altair-theme">Streamlit Altair Theme</a>
<ul>
<li><a href="#example">Example</a></li>
<li><a href="#theme-code">Theme Code</a>
<ul>
<li><a href="#applying-the-theme">Applying the Theme</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#alternative-theme">Alternative Theme</a>
<ul>
<li><a href="#example-1">Example</a></li>
<li><a href="#theme-code-1">Theme Code</a></li>
</ul>
</li>
<li><a href="#large-categorical-color-palette">Large Categorical Color Palette</a></li>
</ul>
</li>
</ul>
<h2><a class="header" href="#summary" id="summary">Summary</a></h2>
<p>If you use Altair for visualizations, you can <a href="https://altair-viz.github.io/user_guide/configuration.html#defining-a-custom-theme">define a custom theme</a> to adjust the look of your visualization to match streamlit's theme.</p>
<h2><a class="header" href="#streamlit-altair-theme" id="streamlit-altair-theme">Streamlit Altair Theme</a></h2>
<p>The python code below will apply a theme to your Altair visualizations that by default should match streamlit's theme settings. The default single color scale uses gradation of the primary color and was built with the <a href="https://gka.github.io/palettes/#/9%7Cs%7Cf63366%7C1f77b4%7C1%7C1">Chroma.js Color Palette Helper</a>. The <a href="https://gka.github.io/palettes/#/9%7Cd%7Cf63366%7C1f77b4%7C1%7C1">divergent scale</a> uses the primary color and the blue from the <a href="./essentials.html#other-secondary-colors">secondary colors</a>. The categorical palette is a <a href="https://coolors.co/f63366-fffd80-0068c9-ff2b2b-09ab3b">5-color palette</a> with the primary color, light-yellow secondary color, and remaining colors from the secondary palette. </p>
<p>The theme also adjusts the font to <code>IBM Plex Mono</code> to match data in dataframes and tables. It also adjusts the font sizes so that labels match the size of table elements and the chart title is the same size as an <code>&lt;h3&gt;</code> (header 3) element.</p>
<h3><a class="header" href="#example" id="example">Example</a></h3>
<p><img src="./images/altair-streamlit-theme1-example.png" alt="Plot Example" /></p>
<h3><a class="header" href="#theme-code" id="theme-code">Theme Code</a></h3>
<pre><code class="language-python">def streamlit_theme():
    font = &quot;IBM Plex Mono&quot;
    primary_color = &quot;#F63366&quot;
    font_color = &quot;#262730&quot;
    grey_color = &quot;#f0f2f6&quot;
    base_size = 16
    lg_font = base_size * 1.25
    sm_font = base_size * 0.8  # st.table size
    xl_font = base_size * 1.75

    config = {
        &quot;config&quot;: {
            &quot;arc&quot;: {&quot;fill&quot;: primary_color},
            &quot;area&quot;: {&quot;fill&quot;: primary_color},
            &quot;circle&quot;: {&quot;fill&quot;: primary_color, &quot;stroke&quot;: font_color, &quot;strokeWidth&quot;: 0.5},
            &quot;line&quot;: {&quot;stroke&quot;: primary_color},
            &quot;path&quot;: {&quot;stroke&quot;: primary_color},
            &quot;point&quot;: {&quot;stroke&quot;: primary_color},
            &quot;rect&quot;: {&quot;fill&quot;: primary_color},
            &quot;shape&quot;: {&quot;stroke&quot;: primary_color},
            &quot;symbol&quot;: {&quot;fill&quot;: primary_color},
            &quot;title&quot;: {
                &quot;font&quot;: font,
                &quot;color&quot;: font_color,
                &quot;fontSize&quot;: lg_font,
                &quot;anchor&quot;: &quot;start&quot;,
            },
            &quot;axis&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
                &quot;gridColor&quot;: grey_color,
                &quot;domainColor&quot;: font_color,
                &quot;tickColor&quot;: &quot;#fff&quot;,
            },
            &quot;header&quot;: {
                &quot;labelFont&quot;: font,
                &quot;titleFont&quot;: font,
                &quot;labelFontSize&quot;: base_size,
                &quot;titleFontSize&quot;: base_size,
            },
            &quot;legend&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
            },
            &quot;range&quot;: {
                &quot;category&quot;: [&quot;#f63366&quot;, &quot;#fffd80&quot;, &quot;#0068c9&quot;, &quot;#ff2b2b&quot;, &quot;#09ab3b&quot;],
                &quot;diverging&quot;: [
                    &quot;#850018&quot;,
                    &quot;#cd1549&quot;,
                    &quot;#f6618d&quot;,
                    &quot;#fbafc4&quot;,
                    &quot;#f5f5f5&quot;,
                    &quot;#93c5fe&quot;,
                    &quot;#5091e6&quot;,
                    &quot;#1d5ebd&quot;,
                    &quot;#002f84&quot;,
                ],
                &quot;heatmap&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ramp&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ordinal&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
            },
        }
    }
    return config
</code></pre>
<h4><a class="header" href="#applying-the-theme" id="applying-the-theme">Applying the Theme</a></h4>
<p>After you define this function, you'll need to register the theme with Altair wherever you define your plots.</p>
<pre><code class="language-python">alt.themes.register(&quot;streamlit&quot;, streamlit_theme)
alt.themes.enable(&quot;streamlit&quot;)
</code></pre>
<h2><a class="header" href="#alternative-theme" id="alternative-theme">Alternative Theme</a></h2>
<p>This alternative theme is closer to the default theme in <code>ggplot2</code>. It adds a grey background, changes the grid to white, and removes some of the dark plot spine.</p>
<h3><a class="header" href="#example-1" id="example-1">Example</a></h3>
<p><img src="images/altair-streamlit-theme2-example.png" alt="Alternative Theme" /></p>
<h3><a class="header" href="#theme-code-1" id="theme-code-1">Theme Code</a></h3>
<pre><code class="language-python">def streamlit_theme_alt():
    font = &quot;IBM Plex Mono&quot;
    primary_color = &quot;#F63366&quot;
    font_color = &quot;#262730&quot;
    grey_color = &quot;#f0f2f6&quot;
    base_size = 16
    lg_font = base_size * 1.25
    sm_font = base_size * 0.8  # st.table size
    xl_font = base_size * 1.75

    config = {
        &quot;config&quot;: {
            &quot;view&quot;: {&quot;fill&quot;: grey_color},
            &quot;arc&quot;: {&quot;fill&quot;: primary_color},
            &quot;area&quot;: {&quot;fill&quot;: primary_color},
            &quot;circle&quot;: {&quot;fill&quot;: primary_color, &quot;stroke&quot;: font_color, &quot;strokeWidth&quot;: 0.5},
            &quot;line&quot;: {&quot;stroke&quot;: primary_color},
            &quot;path&quot;: {&quot;stroke&quot;: primary_color},
            &quot;point&quot;: {&quot;stroke&quot;: primary_color},
            &quot;rect&quot;: {&quot;fill&quot;: primary_color},
            &quot;shape&quot;: {&quot;stroke&quot;: primary_color},
            &quot;symbol&quot;: {&quot;fill&quot;: primary_color},
            &quot;title&quot;: {
                &quot;font&quot;: font,
                &quot;color&quot;: font_color,
                &quot;fontSize&quot;: lg_font,
                &quot;anchor&quot;: &quot;start&quot;,
            },
            &quot;axis&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
                &quot;grid&quot;: True,
                &quot;gridColor&quot;: &quot;#fff&quot;,
                &quot;gridOpacity&quot;: 1,
                &quot;domain&quot;: False,
                # &quot;domainColor&quot;: font_color,
                &quot;tickColor&quot;: font_color,
            },
            &quot;header&quot;: {
                &quot;labelFont&quot;: font,
                &quot;titleFont&quot;: font,
                &quot;labelFontSize&quot;: base_size,
                &quot;titleFontSize&quot;: base_size,
            },
            &quot;legend&quot;: {
                &quot;titleFont&quot;: font,
                &quot;titleColor&quot;: font_color,
                &quot;titleFontSize&quot;: sm_font,
                &quot;labelFont&quot;: font,
                &quot;labelColor&quot;: font_color,
                &quot;labelFontSize&quot;: sm_font,
            },
            &quot;range&quot;: {
                &quot;category&quot;: [&quot;#f63366&quot;, &quot;#fffd80&quot;, &quot;#0068c9&quot;, &quot;#ff2b2b&quot;, &quot;#09ab3b&quot;],
                &quot;diverging&quot;: [
                    &quot;#850018&quot;,
                    &quot;#cd1549&quot;,
                    &quot;#f6618d&quot;,
                    &quot;#fbafc4&quot;,
                    &quot;#f5f5f5&quot;,
                    &quot;#93c5fe&quot;,
                    &quot;#5091e6&quot;,
                    &quot;#1d5ebd&quot;,
                    &quot;#002f84&quot;,
                ],
                &quot;heatmap&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ramp&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
                &quot;ordinal&quot;: [
                    &quot;#ffb5d4&quot;,
                    &quot;#ff97b8&quot;,
                    &quot;#ff7499&quot;,
                    &quot;#fc4c78&quot;,
                    &quot;#ec245f&quot;,
                    &quot;#d2004b&quot;,
                    &quot;#b10034&quot;,
                    &quot;#91001f&quot;,
                    &quot;#720008&quot;,
                ],
            },
        }
    }
    return config
</code></pre>
<p>Again, be sure you register the theme after you define it. Note that this function is called <code>streamlit_theme_alt</code>.</p>
<h2><a class="header" href="#large-categorical-color-palette" id="large-categorical-color-palette">Large Categorical Color Palette</a></h2>
<p>The palette below may be helpful if you have more than 5 categories. It was generated by alternating colors on <a href="https://gka.github.io/palettes/#/9%7Cd%7Cfffd80,f63366%7Cf63366,0068c9%7C1%7C1">this divergent scale</a> which uses some of the primary and secondary colors.</p>
<pre><code class="language-python">category_large = [
    &quot;#f63366&quot;,
    &quot;#0068c9&quot;,
    &quot;#fffd80&quot;,
    &quot;#7c61b0&quot;,
    &quot;#ffd37b&quot;,
    &quot;#ae5897&quot;,
    &quot;#ffa774&quot;,
    &quot;#d44a7e&quot;,
    &quot;#fd756d&quot;,
]
</code></pre>

                </main>

                <nav class="nav-wrapper" aria-label="Page navigation">
                    <!-- Mobile navigation buttons -->
                    
                    <a rel="prev" href="essentials.html" class="mobile-nav-chapters previous"
                        title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    

                    
                    <a rel="next" href="sizing-and-images.html" class="mobile-nav-chapters next"
                        title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                    

                    <div style="clear: both"></div>
                </nav>
            </div>
        </div>

        <nav class="nav-wide-wrapper" aria-label="Page navigation">
            
            <a href="essentials.html" class="nav-chapters previous" title="Previous chapter"
                aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>
            

            
            <a href="sizing-and-images.html" class="nav-chapters next" title="Next chapter"
                aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
            
        </nav>

    </div>

    

    

    

    
    <script type="text/javascript">
        window.playpen_copyable = true;
    </script>
    

    

    
    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
    

    <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
    <script src="book.js" type="text/javascript" charset="utf-8"></script>

    <!-- Custom JS scripts -->
    

    

</body>

</html>